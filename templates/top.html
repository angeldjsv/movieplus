{% extends "_base.html" %}

{% block content %}
    <div class="container mt-4">
        <h2 class="text-light mb-3">üé¨ Mejores pel√≠culas del {{ a√±o_actual }}</h2>
    
        {% for item in top_del_a√±o %}
            <div class="card bg-dark text-light mb-2 border-secondary">
                <div class="card-body d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="mb-1">{{ item.pelicula__titulo }}</h5>
                        <small class="text-muted">A√±o: {{ item.pelicula__anio_lanzamiento }}</small>
                    </div>
                    <div class="text-end">
                        <span class="badge bg-success">‚≠ê {{ item.promedio|floatformat:1 }}</span><br>
                        <small>{{ item.total }} rese√±as</small>
                    </div>
                </div>
            </div>
        {% empty %}
            <p class="text-light">No hay rese√±as este a√±o.</p>
        {% endfor %}
        
        <hr class="border-secondary my-4">
        
        <h2 class="text-light mb-3">üë• Mejores pel√≠culas seg√∫n los usuarios</h2>
        
        {% for item in top_general %}
            <div class="card bg-dark text-light mb-2 border-secondary">
                <div class="card-body d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="mb-1">{{ item.pelicula__titulo }}</h5>
                        <small class="text-muted">A√±o: {{ item.pelicula__anio_lanzamiento }}</small>
                    </div>
                    <div class="text-end">
                        <span class="badge bg-primary">‚≠ê {{ item.promedio|floatformat:1 }}</span><br>
                        <small>{{ item.total }} rese√±as</small>
                    </div>
                </div>
            </div>
        {% empty %}
            <p class="text-light">No hay rese√±as a√∫n.</p>
        {% endfor %}
    </div>
{% endblock %}  
